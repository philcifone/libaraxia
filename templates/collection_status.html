<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=.8">
    <title>
        {% if is_custom %}
            {{ collection.name }} Collection
        {% else %}
            {{ status.capitalize() }} Bookshelf
        {% endif %}
    </title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/output.css') }}">
</head>
<body>
    {% include '_sidebar.html' %}
    
    <h1 style="margin-top: 75px;">
        {% if is_custom %}
            {{ collection.name }} Collection
        {% else %}
            {{ status.capitalize() }} Bookshelf
        {% endif %}
    </h1>

    <a href="{{ url_for('collections.view_collections') }}" class="back-nav" id="ratepagelistlink">
        <span class="back-arrow">‚Üê</span>
        <span>Back to Bookshelves</span>
    </a>

    <div class="book-grid">
        {% for book in books %}
        <div class="book-tile">
            <a href="{{ url_for('books.show_book', id=book[0]) }}" style="text-decoration: none; color: inherit;">
                <div>
                    {% if book[3] %}
                        <img src="{{ url_for('static', filename=book[3]) }}" alt="Book Cover" />
                    {% else %}
                        <p>No Image Available</p>
                    {% endif %}
                    <h3>{{ book[1] }}</h3> <!-- Book title -->
                    <p>by {{ book[2] }}</p> <!-- Author -->
                </div>
            </a>
        </div>
        {% endfor %}

        {% if not books %}
        <div class="empty-collection">
            <p>No books in this collection yet.</p>
        </div>
        {% endif %}
    </div>

    <style>
    .empty-collection {
        grid-column: 1 / -1;
        text-align: center;
        padding: 2rem;
        color: var(--text-secondary);
        font-style: italic;
    }
    </style>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>